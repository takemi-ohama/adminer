# 開発AI向け指示書


# 1. bigqueryの認証をGoogle OAuth2認証に変更
* plugins/drivers/bigquery.php の認証関連の仕様を追加します。

* 環境変数"GOOGLE_OAUTH2_ENABLE"がtureだった場合、Google OAuth2認証方式とします。
	true以外の値または未設定の場合は従来通りのCREDENTIALによる認証となります。

* Google OAuth2認証方式の場合、画面は「Sign in with Google」ボタンとロゴのみとしてください。
    * https://adminer.dev.car-mo.jp/ のログイン画面を参考にしてください

* Google OAuth2認証で認証してください。OAuth2認証で必要なパラメータは以下の環境変数に設定するものとします。
	"GOOGLE_OAUTH2_ENABLE":
	"GOOGLE_OAUTH2_CLIENT_ID":
	"GOOGLE_OAUTH2_REDIRECT_URL":
	"GOOGLE_OAUTH2_COOKIE_DOMAIN":
	"GOOGLE_OAUTH2_COOKIE_NAME":
	"GOOGLE_OAUTH2_COOKIE_EXPIRE":
	"GOOGLE_OAUTH2_COOKIE_SECRET":

* 環境変数"GOOGLE_OAUTH2_ENABLE"がtureの場合、Google OAuth2認証で認証されたユーザの権限を使ってbigqueryの認証・認可を得るようにしてください。

#
