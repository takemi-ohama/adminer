# 開発AI向け指示書

# 1. Dockerイメージ公開
* Dockerイメージを公開するための改修を行います。

## Dockerfile改修
* adminer/, plugins/など、COPYしている箇所はadminer本体(https://github.com/vrana/adminer)をcloneして必要なファイル、ディレクトリのみを/var/html/wwwにcpするように変更してください。
* index.phpや.htaccessはCOPYで取得してください
* echoで作成しているphp.iniはdevtools/webにファイルとして置き、COPYしてください
* マルチステージビルドにして、makeなど本番環境に不要なツールを残さないような必要最小限の構成にしてください

## github actionでghcr.ioに登録
* masterにコードがmergeされたらdevtools/web/Dockerfileをbuildし、ghcr.ioにpushするようにしてください。
* dockerイメージ名はadminer-bigqueryとしてください


## README.mdをbigquery plugin版へ
* 現状、README.mdはcloneしたままAdminer本体に関する記載になっています。
* bigquery plugin開発のリポジトリであることを明示し、タイトルや説明などを変更して下さい。
* adminer本体の説明の前に、以下のようなbigquery pluginに関する説明を入れてください
	* bigquery pluginの概要
	* install
	* setup
	* 利用方法
	* Dockerイメージ(ghcr.io)の利用方法
	* このリポジトリ特有のディレクトリ、ファイル構成
	* 開発ガイド


# 2. 追加指示
* Dockerfileでは、externalsのsubmoduleをinstallして必要なディレクトリをcpしてください


# 3. ghcr.io/takemi-ohama/adminer-bigquery コンテナ用設定作成
* webコンテナを参考に、ghcr.io/takemi-ohama/adminer-bigquery:latest を使ったコンテナを立ち上げる設定をprodというディレクトリ名で作成してください。
